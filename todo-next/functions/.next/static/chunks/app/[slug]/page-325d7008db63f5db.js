(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[42],{3251:function(e,t,s){Promise.resolve().then(s.bind(s,2688))},2688:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return i}});var n=s(7437),a=s(8472),l=s(6463),o=s(2265);async function d(e){try{let t=await a.Z.get("/api/todos/"+e);return console.log(t.data.data),t.data.data}catch(e){throw Error(e.message)}}function i(){let[e,t]=(0,o.useState)(""),[s,i]=(0,o.useState)([]),[c,u]=(0,o.useState)({id:"",updateInput:!1}),r=(0,l.useParams)();console.log(r);let p=async t=>{let n=s[t]._id,l=[...s];l[t].isCompleted=!l[t].isCompleted;let o=s[t].isCompleted;i(l),await a.Z.patch("/api/todos/"+n,{todo:e,isCompleted:o})},m=async()=>{e&&(i([...s,{_id:"".concat(s.length),todo:e,isCompleted:!1,update:!1}]),t(""),await a.Z.post("/api/todos/",{todo:e}),i(await d(r.slug)))},h=(e,n)=>{let a=s[e]._id;t(n),u({...c,id:a,updateInput:!0}),s[e].update=!s[e].update,i([...s])},x=async e=>{let t=s[e]._id,n=s.filter((t,s)=>s!==e);console.log("Is An Array",n),i([...n]),await a.Z.delete("/api/todos/"+t)},f=async()=>{let n=!1,l=s.map((t,s)=>t._id==c.id?(n=t.isCompleted,{...t,todo:e}):t);await a.Z.patch("/api/todos/"+c.id,{todo:e,isCompleted:n}),u({id:"",updateInput:!1}),i(l),t("")};return(0,o.useEffect)(()=>{(async()=>{i(await d(r.slug))})()},[]),(0,n.jsxs)("div",{className:"text-black taubg-orange-600",children:[(0,n.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-8 w-full max-w-md",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-center mb-4",children:"Todo List"}),(0,n.jsxs)("div",{className:"flex mb-4",children:[(0,n.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),className:"flex-grow p-2 border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Add a new todo..."}),c.updateInput?(0,n.jsx)("button",{onClick:f,className:"bg-blue-500 text-white p-2 rounded-r-md hover:bg-blue-600 focus:outline-none",children:"Update"}):(0,n.jsx)("button",{onClick:m,className:"bg-blue-500 text-white p-2 rounded-r-md hover:bg-blue-600 focus:outline-none",children:"Add"})]}),(0,n.jsx)("ul",{children:s.map((e,t)=>{let{_id:s,todo:a,isCompleted:l,update:o}=e;return(0,n.jsxs)("div",{className:"flex justify-between mt-5",children:[(0,n.jsx)("li",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-md mb-2  overflow-scroll",onClick:()=>h(t,a),children:(0,n.jsx)("span",{className:l?"line-through text-gray-400":"",children:a})},t),(0,n.jsxs)("div",{className:"flex justify-between  w-16",children:[(0,n.jsx)("div",{children:(0,n.jsx)("button",{onClick:()=>p(t),className:"p-1 text-sm rounded-full focus:outline-none ".concat(l?"bg-green-400 text-white":"bg-gray-200"),children:l?"✖️":"✔️"})}),(0,n.jsx)("div",{children:(0,n.jsx)("button",{onClick:()=>x(t),children:"\uD83D\uDDD1️"})})]})]},t)})})]})}),r.slug]})}}},function(e){e.O(0,[236,971,23,744],function(){return e(e.s=3251)}),_N_E=e.O()}]);