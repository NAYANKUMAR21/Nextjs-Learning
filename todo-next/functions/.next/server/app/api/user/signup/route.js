"use strict";(()=>{var e={};e.id=422,e.ids=[422],e.modules={1185:e=>{e.exports=require("mongoose")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6113:e=>{e.exports=require("crypto")},1072:(e,s,t)=>{t.r(s),t.d(s,{originalPathname:()=>f,patchFetch:()=>v,requestAsyncStorage:()=>x,routeModule:()=>m,serverHooks:()=>y,staticGenerationAsyncStorage:()=>h});var n={};t.r(n),t.d(n,{GET:()=>l,POST:()=>g});var r=t(9303),a=t(8716),o=t(670),i=t(7705),u=t(4164),p=t(7070),c=t(2023),d=t.n(c);async function g(e){try{let{username:s,email:t,password:n}=await e.json();if(await u.Z.findOne({email:t}))return p.NextResponse.json({message:"User already present"},{status:400});let r=await d().genSalt(10),a=await d().hash(n,r);return await u.Z.create({username:s,email:t,password:a}),p.NextResponse.json({message:"User created successfully"})}catch(e){if(e instanceof Error)return p.NextResponse.json({message:e.message},{status:500});return p.NextResponse.json({message:"Something unknown happend"},{status:500})}}async function l(e){try{let e=await u.Z.find();return p.NextResponse.json(e)}catch(e){if(e instanceof Error)return p.NextResponse.json({message:e.message},{status:500});return p.NextResponse.json({message:"Something unknown happened"},{status:500})}}(0,i.Z)();let m=new r.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/user/signup/route",pathname:"/api/user/signup",filename:"route",bundlePath:"app/api/user/signup/route"},resolvedPagePath:"/Users/nayankumar/Desktop/Nextjs-Learning/todo-next/src/app/api/user/signup/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:x,staticGenerationAsyncStorage:h,serverHooks:y}=m,f="/api/user/signup/route";function v(){return(0,o.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:h})}},7705:(e,s,t)=>{t.d(s,{Z:()=>a});var n=t(1185),r=t.n(n);let a=async function(){try{r().connect(process.env.MONGO_URI);let e=r().connection;e.on("error",e=>{console.log(e.message),process.exit()}),e.on("connected",()=>{console.log("MongoDb connected successfully!..")})}catch(e){console.log("Something happened in ",e.message)}}},4164:(e,s,t)=>{t.d(s,{Z:()=>o});var n=t(1185),r=t.n(n);let a=new(r()).Schema({username:{type:String,require:["username is required mandatory",!0],unique:!0},email:{type:String,require:["email is required mandatory",!0],unique:!0},password:{type:String},createdAt:{type:Date}},{versionKey:!1}),o=r().models.user||r().model("user",a)}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),n=s.X(0,[948,972,23],()=>t(1072));module.exports=n})();